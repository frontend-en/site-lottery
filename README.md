# HitTheTicket üéâ

**"HitTheTicket"** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∞–π—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω-–ª–æ—Ç–µ—Ä–µ–π, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö —Ü–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤, –ø–æ–¥–ø–∏—Å–æ–∫, —Å–∫–∏–¥–æ–∫ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –æ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ –∏ –±–ª–æ–≥–µ—Ä–æ–≤. –£—á–∞—Å—Ç–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—Å–µ—Ö, –∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–∞–∂–¥–æ–º—É —à–∞–Ω—Å—ã –Ω–∞ –≤—ã–∏–≥—Ä—ã—à.

---

## **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º email.
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ email –∏ –ø–∞—Ä–æ–ª—å.
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π: `ADMIN`, `USER`, `MANAGER`.

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ—Ç–µ—Ä–µ—è–º–∏**:
   - –°–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ª–æ—Ç–µ—Ä–µ–π.
   - –ü—Ä–∏–≤—è–∑–∫–∞ –ø—Ä–∏–∑–æ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ª–æ—Ç–µ—Ä–µ—è–º.
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**:
   - –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Discord –∏ Telegram (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã).
   - –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π.

4. **–£—á–∞—Å—Ç–∏–µ –≤ –ª–æ—Ç–µ—Ä–µ—è—Ö**:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–æ—Ç–µ—Ä–µ—è—Ö.
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π.

5. **–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**:
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ—Ç–µ—Ä–µ—è–º–∏.
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –¥–∞–Ω–Ω—ã—Ö –æ –≤—ã–∏–≥—Ä—ã—à–µ.

---

## **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

- **Backend**: Node.js, Express
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **ORM**: Sequelize
- **–ü–æ—á—Ç–∞**: Nodemailer
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: JWT
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**: Postman

---

## **–†–æ—É—Ç—ã API**

### **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|---------------------|------------------------------------------|
| POST  | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è         |
| GET   | `/api/auth/confirm/:token` | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email               |
| POST  | `/api/auth/login`    | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                |

### **–õ–æ—Ç–µ—Ä–µ–∏**
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|---------------------|------------------------------------------|
| GET   | `/api/lotteries`    | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ª–æ—Ç–µ—Ä–µ–π             |
| POST  | `/api/lotteries`    | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ª–æ—Ç–µ—Ä–µ—é (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)      |
| GET   | `/api/lotteries/:id`| –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ—Ç–µ—Ä–µ–∏       |
| PUT   | `/api/lotteries/:id`| –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–æ—Ç–µ—Ä–µ–∏ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)    |
| DELETE| `/api/lotteries/:id`| –£–¥–∞–ª–∏—Ç—å –ª–æ—Ç–µ—Ä–µ—é (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)            |

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
|-------|---------------------|------------------------------------------|
| GET   | `/api/users`        | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (ADMIN) |
| GET   | `/api/users/:id`    | –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| PUT   | `/api/users/:id`    | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è             |
| DELETE| `/api/users/:id`    | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)             |

### **–†–æ—É—Ç—ã –¥–ª—è –ó–∞–ø–∏—Å–µ–π –æ–± –£—á–∞—Å—Ç–∏–∏ (Entries)**

| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|---------------------|------------------------------------------|
| GET   | `/api/entries`      | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –æ–± —É—á–∞—Å—Ç–∏–∏           |
| POST  | `/api/entries`      | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ–± —É—á–∞—Å—Ç–∏–∏          |
| GET   | `/api/entries/:id`  | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± —É—á–∞—Å—Ç–∏–∏ –ø–æ ID         |
| PUT   | `/api/entries/:id`  | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± —É—á–∞—Å—Ç–∏–∏ –ø–æ ID         |
| DELETE| `/api/entries/:id`  | –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± —É—á–∞—Å—Ç–∏–∏ –ø–æ ID          |

### **–†–æ—É—Ç—ã –¥–ª—è –ü—Ä–∏–∑–æ–≤ (Prizes)**

| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|---------------------|------------------------------------------|
| GET   | `/api/prizes`       | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–∑–æ–≤              |
| POST  | `/api/prizes`       | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–∏–∑                       |
| GET   | `/api/prizes/:id`   | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑ –ø–æ ID                      |
| PUT   | `/api/prizes/:id`   | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–∑ –ø–æ ID                      |
| DELETE| `/api/prizes/:id`   | –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–∑ –ø–æ ID                       |

---

## **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫**

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**
- Node.js >= 18
- PostgreSQL >= 14
- Git

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/frontend-en/site-lottery.git
cd site-lottery
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–µ—Ä–≤–µ—Ä–∞
cd server
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞
cd ../client
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `server` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```env
PORT=5000
DATABASE_URL=postgresql://user:password@localhost:5432/lottery_db
JWT_SECRET=your_jwt_secret
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USER=your@email.com
EMAIL_PASS=your_password
BASE_URL=http://localhost:3000
```

4. **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```bash
# –í PostgreSQL
createdb lottery_db
```

### **–ó–∞–ø—É—Å–∫**

1. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
cd server
npm run dev
```

2. **–ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞**
```bash
cd client
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5173
API —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000

### **–°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

1. **–°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞**
```bash
cd client
npm run build
```

2. **–°–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
cd server
npm run build
```

---

## **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ú–µ—Ç–æ–¥**: `POST`  
**URL**: `/api/auth/register`  
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "email": "test@example.com",
  "password": "password123",
  "full_name": "Test User"
}
```

### –£—á–∞—Å—Ç–∏–µ –≤ –ª–æ—Ç–µ—Ä–µ–µ
**–ú–µ—Ç–æ–¥**: `POST`  
**URL**: /api/lotteries/:lotteryId/entries
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "user_id": 1
}
```
### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ª–æ—Ç–µ—Ä–µ–µ
**–ú–µ—Ç–æ–¥**: `GET`  
**URL**: /api/lotteries/:id
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "user_id": 1
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏
EMAIL_HOST=smtp
EMAIL_PORT=000
EMAIL_USER=your@gmail.com
EMAIL_PASS=yourpass
BASE_URL=http://localhost:3000
JWT_SECRET=yourpass_JWT_SECRET

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

1. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Stripe, YooMoney).
2. –í–≤–µ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
4. –î–æ–±–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.